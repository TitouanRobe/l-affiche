<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="app.js"></script>
    <title>L'Affiche</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/accueil.css">
</head>
<header>
    <nav class="navbar">
        <ul class="navbar-nav">
        <li class="logo">
        <a href="#" class="nav-link">
        <span class="link-text logo-text">L'Affiche</span>
        <svg
        aria-hidden="true"
        focusable="false"
        data-prefix="fad"
        data-icon="angle-double-right"
        role="img"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 650 512"
        class="svg-inline--fa fa-angle-double-right fa-w-14 fa-5x"
        >
        <g class="fa-group">
        <path
        fill="currentColor"
        d="M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"
        class="fa-secondary"
        ></path>
        <path
        fill="currentColor"
        d="M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"
        class="fa-primary"
        ></path>
        </g>
        </svg>
        </a>
        </li>
        
        <li class="nav-item">
        <a href="accueil.html" class="nav-link">
        <svg
        aria-hidden="true"
        focusable="false"
        data-prefix="fad"
        data-icon="chat"
        role="img"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 576 512"
        class="svg-inline--fa fa-cat fa-w-16 fa-9x"
        >
        <g class="fa-group">
        <path
        fill="currentColor"
        d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"
        class="fa-secondary"
        ></path>
        <path
        fill="currentColor"
        d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"
        class="fa-primary"
        ></path>
        </g>
        </svg>
        <span class="link-text">Accueil</span>
        </a>
        </li>
        
        <li class="nav-item">
        <a href="top_film.html" class="nav-link">
        <svg
        aria-hidden="true"
        focusable="false"
        data-prefix="fad"
        data-icon="alien-monster"
        role="img"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 640 512"
        class="svg-inline--fa fa-alien-monster fa-w-18 fa-9x"
        >
        <g class="fa-group">
        <path
        fill="currentColor"
        d="M353.8 54.1L330.2 6.3c-3.9-8.3-16.1-8.6-20.4 0L286.2 54.1l-52.3 7.5c-9.3 1.4-13.3 12.9-6.4 19.8l38 37-9 52.1c-1.4 9.3 8.2 16.5 16.8 12.2l46.9-24.8 46.6 24.4c8.6 4.3 18.3-2.9 16.8-12.2l-9-52.1 38-36.6c6.8-6.8 2.9-18.3-6.4-19.8l-52.3-7.5zM256 256c-17.7 0-32 14.3-32 32V480c0 17.7 14.3 32 32 32H384c17.7 0 32-14.3 32-32V288c0-17.7-14.3-32-32-32H256zM32 320c-17.7 0-32 14.3-32 32V480c0 17.7 14.3 32 32 32H160c17.7 0 32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zm416 96v64c0 17.7 14.3 32 32 32H608c17.7 0 32-14.3 32-32V416c0-17.7-14.3-32-32-32H480c-17.7 0-32 14.3-32 32z"
        class="fa-secondary"
        ></path>
        <path
        fill="currentColor"
        d="M353.8 54.1L330.2 6.3c-3.9-8.3-16.1-8.6-20.4 0L286.2 54.1l-52.3 7.5c-9.3 1.4-13.3 12.9-6.4 19.8l38 37-9 52.1c-1.4 9.3 8.2 16.5 16.8 12.2l46.9-24.8 46.6 24.4c8.6 4.3 18.3-2.9 16.8-12.2l-9-52.1 38-36.6c6.8-6.8 2.9-18.3-6.4-19.8l-52.3-7.5zM256 256c-17.7 0-32 14.3-32 32V480c0 17.7 14.3 32 32 32H384c17.7 0 32-14.3 32-32V288c0-17.7-14.3-32-32-32H256zM32 320c-17.7 0-32 14.3-32 32V480c0 17.7 14.3 32 32 32H160c17.7 0 32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zm416 96v64c0 17.7 14.3 32 32 32H608c17.7 0 32-14.3 32-32V416c0-17.7-14.3-32-32-32H480c-17.7 0-32 14.3-32 32z"
        class="fa-primary"
        ></path>
        </g>
        </svg>
        <span class="link-text">Top Film</span>
        </a>
        </li>
        
        <li class="nav-item">
        <a href="documentation.html" class="nav-link">
        <svg
        aria-hidden="true"
        focusable="false"
        data-prefix="fad"
        data-icon="space-station-moon-alt"
        role="img"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 512 512"
        class="svg-inline--fa fa-space-station-moon-alt fa-w-16 fa-5x"
        >
        <g class="fa-group">
        <path
        fill="currentColor"
        d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"
        class="fa-secondary"
        ></path>
        <path
        fill="currentColor"
        d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"
        class="fa-primary"
        ></path>
        </g>
        </svg>
        <span class="link-text">Documentation</span>
        </a>
        </li>
        
        <li class="nav-item">
        <a href="presteam.html" class="nav-link">
        <svg
        aria-hidden="true"
        focusable="false"
        data-prefix="fad"
        data-icon="space-shuttle"
        role="img"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 448 512"
        class="svg-inline--fa fa-space-shuttle fa-w-20 fa-5x"
        >
        <g class="fa-group">
        <path
        fill="currentColor"
        d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"
        class="fa-secondary"
        ></path>
        <path
        fill="currentColor"
        d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"
        class="fa-primary"
        ></path>
        </g>
        </svg>
        <span class="link-text">Equipe</span>
        </a>
        </li>
        
        
        <li class="nav-item" id="themeButton">
        <a href="#" class="nav-link">
        <svg
        class="theme-icon"
        id="lightIcon"
        aria-hidden="true"
        focusable="false"
        data-prefix="fad"
        data-icon="moon-stars"
        role="img"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 512 512"
        class="svg-inline--fa fa-moon-stars fa-w-16 fa-7x"
        >
        <g class="fa-group">
        <path
        fill="currentColor"
        d="M320 32L304 0l-16 32-32 16 32 16 16 32 16-32 32-16zm138.7 149.3L432 128l-26.7 53.3L352 208l53.3 26.7L432 288l26.7-53.3L512 208z"
        class="fa-secondary"
        ></path>
        <path
        fill="currentColor"
        d="M332.2 426.4c8.1-1.6 13.9 8 8.6 14.5a191.18 191.18 0 0 1-149 71.1C85.8 512 0 426 0 320c0-120 108.7-210.6 227-188.8 8.2 1.6 10.1 12.6 2.8 16.7a150.3 150.3 0 0 0-76.1 130.8c0 94 85.4 165.4 178.5 147.7z"
        class="fa-primary"
        ></path>
        </g>
        </svg>
        <svg
        class="theme-icon"
        id="solarIcon"
        aria-hidden="true"
        focusable="false"
        data-prefix="fad"
        data-icon="sun"
        role="img"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 512 512"
        class="svg-inline--fa fa-sun fa-w-16 fa-7x"
        >
        <g class="fa-group">
        <path
        fill="currentColor"
        d="M502.42 240.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.41-94.8a17.31 17.31 0 0 0-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4a17.31 17.31 0 0 0 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.41-33.5 47.3 94.7a17.31 17.31 0 0 0 31 0l47.31-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3a17.33 17.33 0 0 0 .2-31.1zm-155.9 106c-49.91 49.9-131.11 49.9-181 0a128.13 128.13 0 0 1 0-181c49.9-49.9 131.1-49.9 181 0a128.13 128.13 0 0 1 0 181z"
        class="fa-secondary"
        ></path>
        <path
        fill="currentColor"
        d="M352 256a96 96 0 1 1-96-96 96.15 96.15 0 0 1 96 96z"
        class="fa-primary"
        ></path>
        </g>
        </svg>
        <span class="link-text"></span>
        </a>
        </li>
        </ul>
        </nav>
    </header>








    
    <body>
    <form style=" top: 10px; display: flex; justify-content : center;">
        <div class="en-tete-image--flex">
            <div class="en-tete-image--input">
                <img src="image/loupe.png" alt="Icone Rechercher">
                <input type="text" placeholder="Rechercher un film" name="query" required>
            </div>
        </div>
    </form>
        <div style="position: absolute; top: 10px; right: 10px; z-index: 1000;">
            <a href="connexion.html" class="button-link">Connexion</a>
            <a href="inscription.html" class="button-link">Inscription</a>
        </div>


    <form>
        <div class="en-tete-image--flex">
            <div class="en-tete-image--input">
                <img src="image/loupe.png" alt="Icone Rechercher">
                <input type="text" placeholder="Rechercher un film" name="query" required>
            </div>
        </div>
    </form>
    <div style="position: absolute; top: 10px; right: 10px; z-index: 1000;">
        <a href="connexion.html" class="button-link">Connexion</a>
        <a href="inscription.html" class="button-link">Inscription</a>
    </div>


    <main class="main_doc">
        <div class="Sommaire">
            <h1>Documentation</h1>
            <ul>
                <li><a href="#intro">Introduction : Le site et Fonctionnement global</a></li>
                <li><a href="#contenu">Contenu</a></li>
                    <ul>
                        <li><a href="#bdd">Base de données</a></li>
                        <li><a href="#import">Bibliothèques nécessaires</a></li>
                        <li><a href="#sysreco">Système de recommandation</a></li>
                        <li><a href="#api">API</a></li>
                            <ul>
                                <li><a href="#webscraping">Web Scraping</a></li>
                                <li><a href="#utilisation">Utilisation</a></li>
                            </ul>
                        <li><a href="#site">Site Web</a></li>
                            <ul>
                                <li><a href="#acceuil">Acceuil</a></li>
                                <li><a href="#movie">Affichage du film</a></li>
                                <li><a href="#personnes">Personnes</a></li>
                                <li><a href="#genres">Genres</a></li>
                                <li><a href="#recherche">Recherche</a></li>
                                <li><a href="#equipe">Présentation de l'équipe</a></li>
                            </ul>
                    </ul>
            </ul>
        </div>
        <div>
            <h2 id="intro">Introduction : </h2>
            <p>Le site de l'Affiche a pour but de proposer des recommandations de films à ses visiteurs en se basant sur la popularité ou les genres de ceux-ci. Il est aussi possible de noter un film, de l’ajouter à ses favoris après s’être identifié / connecté.</p>
            <p>Le fonctionnement du site est basé sur un système de recommandation utilisant le filtrage collaboratif basé sur le contenu qui recommande les meilleurs films en se basant sur un film particulier recherché par l’utilisateur.</p>
            <p>Le site fonctionne avec une base de données de plus de 70 000 films datant de 2014 à 2020 et récupérés sur le site IMdb.</p>
        </div>

        <div id="contenu">
            <div id="bdd">
                <h2>Base de données : </h2>
                <p>Pour faire fonctionner le site de l'Affiche, on a besoin de sa base de donnée en postgreSQL.</p>
                <p>La structure de celle-ci est assez simple car elle est composée de 11 tables : film, note, genre, film_genre, profession, personne, equipe, utilisateur, liste_favoris, profession_personne, film_description </p>
                <ul>
                    <li>Film : </li>
                    <ul>
                        <li>id_film : chaine de caractères</li>
                        <li>titre : chaine de caractères</li>
                        <li>titre_populaire : chaine de caractères</li>
                        <li>date_de_sortie : chaine de caractères</li>
                        <li>isAdult : chaine de caractères</li>
                        <li>duree : chaine de caractères</li>
                        <li>description : chaine de caractères</li>
                    </ul>
                    <li>Note : </li>
                    <ul>
                        <li>id_film : chaine de caractères</li>
                        <li>note : float</li>
                        <li>nb_votes : chaine de caractères</li>
                    </ul>
                    <li>Genre : </li>
                    <ul>
                        <li>id_genre : serial</li>
                        <li>nom_genre : chaine de caractères</li>
                    </ul>
                    <li>Film_genre: (table pour lier les genres au films)</li>
                    <ul>
                        <li>id_genre : integer</li>
                        <li>nom_genre : chaine de caractères</li>
                    </ul>
                    <li>Profession : </li>
                    <ul>
                        <li>id_profession : serial</li>
                        <li>profession : chaine de caractères</li>
                    </ul>
                    <li>Personne : </li>
                    <ul>
                        <li>id_personne : chaine de caractères</li>
                        <li>personne : chaine de caractères</li>
                        <li>nom : chaine de caractères</li>
                    </ul>
                    <li>equipe : </li>
                    <ul>
                        <li>id_film : chaine de caractères</li>
                        <li>id_personne : chaine de caractères</li>
                        <li>role_personne : chaine de caractères</li>
                        <li>role_film : chaine de caractères</li>
                    </ul>
                    <li>Utilisateur : </li>
                    <ul>
                        <li>id_utilisateur : integer</li>
                        <li>pseudo : chaine de caractères</li>
                    </ul>
                    <li>Liste_favoris : </li>
                    <ul>
                        <li>id_film : chaine de caractères</li>
                        <li>id_utilisateur : integer</li>
                    </ul>
                    <li>profession_personne : </li>
                    <ul>
                        <li>id_profession : integer</li>
                        <li>id_personne : chaine de caractères</li>
                    </ul>
                    <li>Film_description : </li>
                    <ul>
                        <li>id_film : chaine de caractères</li>
                        <li>id_personne : integer</li>
                        <li>prénom : chaine de caractères</li>
                        <li>nom : chaine de caractères</li>
                        <li>profession : chaine de caractères</li>
                        <li>films : chaine de caractères</li>
                    </ul>
                </ul>
                <div class="installation_bdd">
                    <p>Pour commencer, il est nécessaire de télécharger et d'installer le schéma de la base de données contenant les différentes tables afin de pouvoir stocker les informations dont on aura besoin: <a href="./fichiers_bdd/script_final.sql" download="script_final.sql">Télécharger le script sql</a></p>
                    <p>Le script dépend de triggers qui permettent l'insertion de nouvelles données à partir de fichiers TSV en les répartissant dans les bonnes tables.</p>
                    <p>Récupérez les fichiers TSV ici : <a href="./fichiers_bdd/acteurs_finaux.tsv" download="acteurs_finaux.tsv">acteurs</a>,   <a href="./fichiers_bdd/description.tsv" download="description.tsv">description</a>,  <a href="./fichiers_bdd/description4_finale.tsv" download="description2.tsv">description 2ème partie</a>,  <a href="./fichiers_bdd/movies_final.tsv" download="movies.tsv">movies</a>,  <a href="./fichiers_bdd/personnes_final.tsv" download="personnes.tsv">personnes</a></p>
                </div>
            </div>

            <div> 
                <h2 class="import">Bibliothèques nécessaires</h2>
                <p>Pour faire fonctionner les différents programmes, voici les bibliothèques requises ainsi que la commande associée pour installer la bibliothèque.</p>
                <ul>
                    <li>typing : pip install typing </li>
                    <li>fastapi : pip install fastapi</li>
                    <li>psycopg2 : pip install psycopg2</li>
                    <li>pandas : pip install pandas</li>
                    <li>pydantic : pip install pydantic</li>
                    <li>sklearn : pip install scikit-learn</li>
                    <li>create_engine : pip install SQLAlchemy</li>
                    <li>google_images_search : pip install google_images_search</li>
                </ul>
            </div>


            <div>
                <h2 id="sysreco">Système de recommandation : Filtrage collaboratif basé sur le contenu </h2>
                <p>Pour offrir les meilleures recommandations possibles, on utilise un système de recommandations qui utilise le filtrage collaboratif basé sur le contenu. <br>
                Pour faire fonctionner ce système de recommandation, on se base sur un film demandé en se concentrant sur les genres auxquels appartiennent ce film, sa note et son nombre de votes.<br>
                On se sert ensuite de ces attributs pour calculer des vecteurs et éffectuer un calcul de similarité avant de renvoyer les films recommandés. </p>
                
            </div>
            <div>
                <h2 id="api">API</h2>
                <p>Afin d'assurer le bon fonctionnement du site, nous utilisons une API qui a plusieurs buts principaux : lancer le système de recommandation, intérragir avec la base de données et éffectuer le web scraping pour les posters et les affiches. </p>
                <h4 id="Webscraping">Webscraping</h4>
                <p>Nous utilisons les posters des films lors de leur affichage pour une meilleur visibilité. Pour se faire, nous effectuons du web scraping à l'aide de l'API google_image_search. Nous stockons ensuite les posters dans la base de donnée pour réduire le temps de futures requêtes.</p>
                <a href="./main_API.py" download="api.py">Télécharger l'API</a>
                <h4 id="utilisation">Comment utiliser ?</h4>
                <p>Pour lancer l'API, il faut ouvrir un terminal, se déplacer dans le dossier où se trouve le fichier main_API.py et executer la commande : uvicorn main_API:app <br>
                (Si vous vous trouvez à l'iut, la commande sera : ~/.local/bin/uvicorn main_API:app)</p>
            </div>
            <div>
                <h2 id="site">Site Web</h2>
                <p>Voyons maintenant comment fonctionne le site et que contiennent les pages : </p>
                <h3 id="acceuil">Acceuil</h3>
                <p>Cette page est la page d'acceuil du site, elle permet d'avoir accès aux différents genres tendances, un aperçu des films du moment. Il est aussi possible de se connecter ou de créer un compte afin de noter les différents films. Et enfin il est possible de rechercher un film à l'aide d'une barre de recherche.</p>
                <h3 id="movie">Affichage du film</h3>
                <p>La page movie, permet de voir les différentes informations d'un film tel qu'il est stocké dans la base, elle contient : le titre, la date de sortie, la note, le nombre de votes, les genres, le scénariste, le réalisateur et les différents acteurs. <br>
                Depuis la page movie, on peut aller sur les pages de genres qui concerne le film, il est aussi possible, d'accéder aux pages des différents membres du casting.<br>
                Enfin en se basant sur le film présent sur la page, on a une sélection de films pouvant plaire à l'utilisateur.<br>
                En cliquant sur l'Affiche ( le nom du site) on peut revenir à l'acceuil.</p>
                <h3 id="personnes">Personnes</h3>
                <p>La page personnes contient les informations d'une personne après que celle-ci ai été séléctionné, on y retrouve les films auxquels cette personne a participé.<br>
                Il est toujours possible de retourner à l'acceuil à l'aide d'un clic sur le nom du site.</p>
                <h3 id="genres">Genres</h3>
                <p>Lorsque qu'un genre est sélectionné, cela renvoi sur la page genre correspondante sur laquelle on retrouve les films les mieux notés pour le-même genre. Il est ensuite possible de cliquer sur un film en particulier afin de se retrouver sur la page movie correspondante.</p>
                <h3 id="recherche">Recherche</h3>
                <p>La page recherche affiche les films correspondant à la recherche effectuée. Les films contenant la recherche, même si la recherche est complète ou non, ressortiront.</p>
                <h3 id="equipe">Présentation de l'équipe</h3>
                <p>Finalement, la page "Présentation de l'équipe" présente les créateurs de ce site avec le top 3 de leur films préférés. </p>
            </div>
        </div>

    </main>
    
</body>
</html>